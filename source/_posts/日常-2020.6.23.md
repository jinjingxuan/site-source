---
title: 日常-2020.6.23
date: 2020-06-23 09:52:01
categories: 日常
---

* input标签的maxlength属性和autocomplete属性
* 动态绑定class改变样式
* 动态绑定图片 require
* 什么是vuex
* 调用接口
* 每日一题
* github打不开怎么办

<!--more-->

## input标签的maxlength属性和autocomplete属性

```html
<!-- maxlength 属性规定输入字段的最大长度-->
<input maxlength="value">

<!-- autocomplete 属性规定输入字段是否应该启用自动完成功能。自动完成允许浏览器预测对字段的输入。当用户在字段开始键入时，浏览器基于之前键入过的值，应该显示出在字段中填写的选项。 开启为默认-->

<input autocomplete="on/off">
```

## 动态绑定class改变样式

```html
<span class="auto-login-icon" :class="{active: isAutoLogin}"></span>

<!--根据isAutoLogin的值为true或者false改变class的值-->
<span class="auto-login-icon active"></span>
<span class="auto-login-icon"></span>
```

## 动态绑定图片 require

```html
<img :src="bg" />

	data() {
        return {
            bg: require('地址')
        };
    },
<!--不加require不能正常显示-->
```

## 什么是vuex

> 所谓的Vuex其实就是一个为Vue.js设计的数据仓库，就是把各个组件公用的数据放到一个仓库里面进行统一的管理，这样既使得非父子组件间的数据共享变得简单明了，也让程序变得更加可维护（将数据抽离了出来）,而且只要仓库里面的数据发生了变化，在其他组件里面数据被引用的地方也会自动更新。

在store文件夹中的index.js写到：

```js
import Vue from 'vue';
import Vuex from 'vuex';

Vue.use(Vuex);

const store = new Vuex.Store({
    state: {                         //存储数据
        loading: false,
    },
    mutations: {                     //存储操作数据的方法
        lock(state) {
            state.loading = true;
        }
    },
    modules: {}
});

export default store;
```

这时就可以在组件中调用仓库state中的数据

```js
    computed: {
        loading() {
            return this.$store.state.loading;
        }
    },
```

> 为什么要用计算属性，因为state状态是响应式的，也就是说state里面的数据发生了变化，组件里的数据是自动更新的。

> this.$store：我们最开始把vuex挂载到了根组件上（在main.js中），所以在任何地方都可以调用$store，和$router是一个道理

**如果想引入很多数据，一个一个写又很麻烦，就可以用mapState**

```js
computed: {
    age: 18,
    name: 'xiaoming',
    ...mapState({  //这里的...不是省略号了,是对象扩展符
        sex: state => state.person.sex,
        height: state => state.person.sex
    })
}
// 使用扩展运算符可以使数据与其他计算属性的数据混合在一起
```

## 调用接口

```js
//页面中的钩子函数调用indexRecommend接口，async/await保证异步执行顺序
async created() {
        this.recommend = await this.$serv.indexRecommend();
}

//后面由于涉及到公司的代码就不贴出了，贴一些学到的代码
[1,2,3].forEach(x=> console.log(x*x))   //输出1,4,9

//解析赋值，将req对象中定义的方法分别赋值给get,post等方法，到此请求方法定义成功
export const { get, post, put, jsonp, delete : del } = req;
```

## 每日一题

```js
function foo(){
    console.log(length)  //词法作用域，找foo函数外面定义的length，即window.length
}
function bar(){
    var length = 'jin'
    foo()
}
bar()  //输出的为window.length即为iframe的个数
```

## github打不开怎么办

* 进入网站的域名解析网址：[http://tool.chinaz.com/dns/](https://links.jianshu.com/go?to=http%3A%2F%2Ftool.chinaz.com%2Fdns%2F) ，在A类型的查询中输入github.com，找出最快的IP地址 
* 进入  **C:\Windows\System32\drivers\etc\hosts** 
* 添加对应ip，例如   52.74.223.119 github 

