---
title: 日常-8.25
date: 2020-08-25 10:27:54
categories: 日常
---

* npm中的 --save与--save-dev
* 文件目录结构
* vue-infinite-scroll
* 一种flex布局
* props的写法
* 使用Array.includes来处理多个条件

<!--more-->

## npm中的 --save与--save-dev

- **i** 是 **install** 的简写
- **-g** 是全局安装，不带 **-g** 会安装在个人文件夹
- **-S** 与 **--save** 的简写，安装包信息会写入 **dependencies** 中
- **-D** 与 **--save-dev** 的简写，安装包写入 **devDependencies** 中

- **dependencies** 生产阶段的依赖,也就是项目运行时的依赖
- **devDependencies** 开发阶段的依赖，就是我们在开发过程中需要的依赖，只在开发阶段起作用的

****

比如写 `ES6` 代码，需要 `babel` 转换成 `es5` ，转换完成后，我们只需要转换后的代码，上线的时候，直接把转换后的代码部署到生产环境，不需要 `bebal` 了，生产环境不需要。这就可以安装到 **devDependencies** ，再比如说代码提示工具，也可以安装到 **devDependencies** 。

如果你用了 `Element-UI`，由于发布到生产后还是依赖 `Element-UI`，这就可以安装到 **dependencies** 。

## 如何生成一个文件目录结构

* 先全局安装`tree`：`cnpm i tree-node-cli -g`
* cd到需要生成目录的文件夹下输入：`tree -L 4 -I "node_modules" > README.md`

-L 是确定要几级目录，-I是排除哪个文件夹下的，然后我是要在README里面生成项目结构树 

## vue-infinite-scroll无限滚动

Use v-infinite-scroll to enable the infinite scroll, and use infinite-scroll-* attributes to define its options.

The method appointed as the value of v-infinite-scroll will be executed when the bottom of the element reaches the bottom of the viewport.

```html
<div v-infinite-scroll="loadMore" infinite-scroll-disabled="busy" infinite-scroll-distance="10">
  ...
</div>
```

```js
var count = 0;

new Vue({
  el: '#app',
  data: {
    data: [],
    busy: false
  },
  methods: {
    loadMore: function() {
      this.busy = true; // 等于true时代表正在执行加载，这时禁用滚动触发。

      setTimeout(() => {
        for (var i = 0, j = 10; i < j; i++) {
          this.data.push({ name: count++ });
        }
        this.busy = false;
      }, 1000);
    }
  }
});
```

| 选项                             | 描述                                                         |
| -------------------------------- | ------------------------------------------------------------ |
| infinite-scroll-disabled         | 等于true时代表正在执行加载，这时禁用滚动触发。               |
| infinite-scroll-distance         | 指定滚动条距离底部多高时触发v-infinite-scroll指向的方法。    |
| infinite-scroll-immediate-check  | 布尔值(默认值= true)。指令在绑定后立即检查，是否内容高度不足以填充页面容器。 |
| infinite-scroll-listen-for-event | 当vue实例触发事件时立即再次检查。                            |
| infinite-scroll-throttle-delay   | 两次检查之间的时间间隔(默认值= 200)。                        |

## 一种flex布局

**效果是固定宽度，元素均匀分布，垂直居中**

```css
.box{
 	display: flex;
    justify-content: space-between;
    align-items: center;
    line-height: 40px;
    width: 350px;   
}
```

## props的写法

- props 可以是数组或对象，用于接收来自父组件的数据。props 可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如类型检测、自定义验证和设置默认值。

  你可以基于对象的语法使用以下选项：

  - `type`：可以是下列原生构造函数中的一种：`String`、`Number`、`Boolean`、`Array`、`Object`、`Date`、`Function`、`Symbol`、任何自定义构造函数、或上述内容组成的数组。会检查一个 prop 是否是给定的类型，否则抛出警告。
  - `default`：`any`
    为该 prop 指定一个默认值。如果该 prop 没有被传入，则换做用这个值。对象或数组的默认值必须从一个工厂函数返回。
  - `required`：`Boolean`
    定义该 prop 是否是必填项。在非生产环境中，如果这个值为 truthy 且该 prop 没有被传入的，则一个控制台警告将会被抛出。
  - `validator`：`Function`
    自定义验证函数会将该 prop 的值作为唯一的参数代入。在非生产环境下，如果该函数返回一个 false 的值 (也就是验证失败)，一个控制台警告将会被抛出。你可以在[这里](https://cn.vuejs.org/v2/guide/components-props.html#Prop-验证)查阅更多 prop 验证的相关信息。

```js
props: {
        detail: {
            type: Object,
            default: () => {},
            required: true
        },
        age: {
          type: Number,
          default: 0,
          required: true,
          validator: function (value) {
            return value >= 0
          }
        }
}

// 子组件向父组件传值时，一个事件可以传递多个参数

// 子组件点击事件
click(params1, params2) {
    this.$emit('selectDay', params1, params2)
}

// 父组件获取值
// <child  @selectDay="fun"></child>
fun (params1, params2) {
   console.log(params1, params2) 
}
```

## 使用Array.includes来处理多个条件

```js
function test(fruit) {
    if (fruit == 'apple' || fruit == 'banana') {
        console.log(red)
    }
}
// 如果有更多的红色水果怎么办
function test(fruit) {
    const redFruits = ['apple', 'strawberry', 'cherry']
    if (redFruits.includes(fruit)) {
        console.log(red)
    }
}
```

