---
title: 日常-2020.4.9
date: 2020-04-09 09:52:01
categories: 日常
---

* 什么是npm与webpack的安装
* webpack打包实例
* 如何打包样式资源

<!--more-->

## 1.什么是npm 

NPM 的思路大概是这样的：

```
1. 买个服务器作为代码仓库（registry），在里面放所有需要被共享的代码
2. 发邮件通知 jQuery、Bootstrap、Underscore 作者使用 npm publish 把代码提交到 registry 上，分别取名 jquery、bootstrap 和 underscore（注意大小写）
3. 社区里的其他人如果想使用这些代码，就把 jquery、bootstrap 和 underscore 写到 package.json 里，然后运行 npm install ，npm 就会帮他们下载代码
4. 下载完的代码出现在 node_modules 目录里，可以随意使用了。
```

这些可以被使用的代码被叫做「包」（package），这就是 NPM 名字的由来：Node Package Manager

**可以安装淘宝镜像cnpm代替提高速度**

`npm install -g cnpm --registry=https://registry.npm.taobao.org`

**然后安装webpack**

`cnpm install webpack -g`

**然后输入webpack -v会提示安装webpack-cli**

` cnpm install webpack-cli -g `

## 2. webpack打包实例

* 初始化一个包描述文件（package.json）

使用命令`cnpm init`，命名为webpack_test，此时文件夹中会生成一个package.json文件

* 新建一个src文件夹，里面新建一个index.js文件和data.json，将index.js作为入口文件

```js
//index.js
import data from './data.json'

function add(x,y){
    return x+y
}
console.log(add(1,2))
```

* 为项目添加依赖 node_modules 

`cnpm install webpack --save-dev `

* 新建一个build文件夹作为输出文件夹
* 运行指令

```
webpack ./src/index.js -o ./build/built.js --mode=development  //开发环境
webpack ./src/index.js -o ./build/built.js --mode=production  //生产环境（压缩）
```

* 出现错误

```
File C:\Users\Jin\AppData\Roaming\npm\webpack.ps1 cannot be loaded because running scripts is disabled on this system.

不允许执行脚本，解决办法：
以管理员身份运行power shell，运行一下代码  Set-ExecutionPolicy RemoteSigned 
```

* 打包成功（webpack本身只识别js和json）

## 3. 如何打包样式资源

在学习这个之前，先学习一下模块化

<https://www.jianshu.com/p/67ce52c93392> ：理解CommonJs、AMD、CMD、ES6模块